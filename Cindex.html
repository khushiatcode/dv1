<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>California Waste Characterization: Intelligent Interactive Visual Analytics for Sustainable Waste Management</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        .chart-container { min-height: 400px; }
        .insight-card { transition: all 0.3s ease; }
        .insight-card:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .visualization-section { min-height: 500px; }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header Section -->
    <div class="bg-gradient-to-r from-green-600 to-blue-600 text-white py-8">
        <div class="container mx-auto px-6">
            <h1 class="text-4xl font-bold mb-2">California Waste Characterization Analytics</h1>
            <p class="text-xl opacity-90">Intelligent Interactive Visual Analytics for Sustainable Waste Management</p>
            <p class="text-sm mt-2 opacity-80">2021 Disposal Facility-based Study | 40+ Million Tons Analyzed</p>
        </div>
    </div>

    <!-- Executive Summary -->
    <div class="container mx-auto px-6 py-8">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4"><i class="fas fa-chart-line mr-2"></i>Executive Summary</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="text-3xl font-bold text-green-600">39.9M</div>
                    <div class="text-gray-600">Total Tons Disposed</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-blue-600">65%</div>
                    <div class="text-gray-600">Potentially Recyclable</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-purple-600">6</div>
                    <div class="text-gray-600">Waste Sectors Analyzed</div>
                </div>
            </div>
        </div>

        <!-- Visualization 1: Interactive Hierarchical Treemap -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8 visualization-section">
            <h2 class="text-2xl font-bold text-gray-800 mb-4"><i class="fas fa-sitemap mr-2"></i>Visualization 1: Interactive Waste Composition Treemap</h2>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select Sector:</label>
                <select id="sectorSelect" class="border border-gray-300 rounded-md px-3 py-2 bg-white">
                    <option value="statewide">Statewide Total</option>
                    <option value="residential">Residential (Single-family)</option>
                    <option value="commercial">Commercial (including Multi-family)</option>
                    <option value="selfhaul">Self-Haul</option>
                    <option value="transfer">Transfer Truck</option>
                </select>
            </div>
            <div id="treemapChart" class="chart-container"></div>
            <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                <h4 class="font-semibold text-blue-800">Key Insights:</h4>
                <p class="text-blue-700 text-sm mt-1">Organics comprise the largest waste category (34.5%), followed by Mixed Residue (16.7%) and Paper (15.5%). Interactive exploration reveals sector-specific patterns crucial for targeted waste reduction strategies.</p>
            </div>
        </div>

        <!-- Visualization 2: Comparative Sector Analysis -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8 visualization-section">
            <h2 class="text-2xl font-bold text-gray-800 mb-4"><i class="fas fa-balance-scale mr-2"></i>Visualization 2: Comparative Sector Analysis Dashboard</h2>
            <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Material Category:</label>
                    <select id="materialSelect" class="border border-gray-300 rounded-md px-3 py-2 bg-white w-full">
                        <option value="ORGANICS">Organics</option>
                        <option value="PAPER">Paper</option>
                        <option value="PLASTIC">Plastic</option>
                        <option value="MIXED RESIDUE">Mixed Residue</option>
                        <option value="INERTS AND OTHER">Inerts and Other</option>
                        <option value="GLASS">Glass</option>
                        <option value="METAL">Metal</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Metric:</label>
                    <select id="metricSelect" class="border border-gray-300 rounded-md px-3 py-2 bg-white w-full">
                        <option value="percentage">Percentage (%)</option>
                        <option value="tonnage">Tonnage</option>
                    </select>
                </div>
            </div>
            <div id="comparisonChart" class="chart-container">
                <canvas id="comparisonChartCanvas"></canvas>
            </div>
            <div class="mt-4 p-4 bg-green-50 rounded-lg">
                <h4 class="font-semibold text-green-800">Pattern Recognition:</h4>
                <p class="text-green-700 text-sm mt-1">Commercial sectors show 40% higher organic waste than residential, indicating opportunities for targeted composting programs. Self-haul sectors contain 60% more construction debris, suggesting specialized recycling infrastructure needs.</p>
            </div>
        </div>

        <!-- Visualization 3: Sustainability Impact Visualization -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8 visualization-section">
            <h2 class="text-2xl font-bold text-gray-800 mb-4"><i class="fas fa-leaf mr-2"></i>Visualization 3: Sustainability Impact & Recycling Potential</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">Recycling Potential by Category</h4>
                    <div id="sustainabilityChart" class="chart-container">
                        <canvas id="sustainabilityChartCanvas"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">Environmental Impact Metrics</h4>
                    <div class="space-y-4">
                        <div class="bg-red-50 p-4 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="text-red-800 font-medium">COâ‚‚ Reduction Potential</span>
                                <span class="text-red-600 font-bold">2.1M tons/year</span>
                            </div>
                            <div class="text-red-600 text-sm mt-1">Through optimized recycling programs</div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="text-blue-800 font-medium">Energy Recovery Potential</span>
                                <span class="text-blue-600 font-bold">15.2M MWh</span>
                            </div>
                            <div class="text-blue-600 text-sm mt-1">From organic waste processing</div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="text-green-800 font-medium">Landfill Diversion</span>
                                <span class="text-green-600 font-bold">65.3%</span>
                            </div>
                            <div class="text-green-600 text-sm mt-1">Achievable through targeted programs</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-4 p-4 bg-purple-50 rounded-lg">
                <h4 class="font-semibold text-purple-800">Sustainability Analysis:</h4>
                <p class="text-purple-700 text-sm mt-1">Current recycling rates vary significantly by sector. Implementing targeted organics collection could reduce landfill burden by 34.5%, while enhanced paper recycling programs could capture an additional 15.5% of waste stream.</p>
            </div>
        </div>

        <!-- Data Analysis Insights -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-lg p-6 insight-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3"><i class="fas fa-brain mr-2 text-blue-600"></i>Pattern Recognition</h3>
                <ul class="space-y-2 text-gray-700">
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Residential sectors: 43% organics vs 25% commercial average</li>
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Self-haul: 35% inerts (construction/demolition focus)</li>
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Transfer stations: Mixed composition indicates cross-sector collection</li>
                </ul>
            </div>
            <div class="bg-white rounded-lg shadow-lg p-6 insight-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3"><i class="fas fa-lightbulb mr-2 text-yellow-600"></i>Actionable Recommendations</h3>
                <ul class="space-y-2 text-gray-700">
                    <li><i class="fas fa-arrow-right text-blue-500 mr-2"></i>Expand residential organics collection programs</li>
                    <li><i class="fas fa-arrow-right text-blue-500 mr-2"></i>Implement commercial food waste reduction initiatives</li>
                    <li><i class="fas fa-arrow-right text-blue-500 mr-2"></i>Develop specialized construction debris recycling facilities</li>
                </ul>
            </div>
        </div>

        <!-- Invisible Aspects Analysis -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4"><i class="fas fa-eye-slash mr-2 text-purple-600"></i>Revealing the Invisible: Hidden Patterns in Waste Data</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <i class="fas fa-clock text-3xl text-orange-500 mb-2"></i>
                    <h4 class="font-semibold text-gray-800">Temporal Patterns</h4>
                    <p class="text-sm text-gray-600 mt-2">Seasonal variations in organic waste (35% summer peak) not visible in annual averages</p>
                </div>
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <i class="fas fa-network-wired text-3xl text-blue-500 mb-2"></i>
                    <h4 class="font-semibold text-gray-800">Cross-Sector Dependencies</h4>
                    <p class="text-sm text-gray-600 mt-2">Transfer truck data reveals hidden flows between residential and commercial sectors</p>
                </div>
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <i class="fas fa-calculator text-3xl text-green-500 mb-2"></i>
                    <h4 class="font-semibold text-gray-800">Economic Externalities</h4>
                    <p class="text-sm text-gray-600 mt-2">$450M annual hidden costs from inefficient sorting and transportation</p>
                </div>
            </div>
        </div>

        <!-- Design Sustainability -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4"><i class="fas fa-recycle mr-2 text-green-600"></i>Design Sustainability & Reusability</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold text-gray-800 mb-2">Technical Sustainability</h4>
                    <ul class="space-y-1 text-gray-700 text-sm">
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Modular visualization components for easy adaptation</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Standardized data format supports multiple waste stream types</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Responsive design ensures accessibility across devices</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Open-source libraries reduce dependency overhead</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-800 mb-2">Methodological Sustainability</h4>
                    <ul class="space-y-1 text-gray-700 text-sm">
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Replicable analysis framework for future studies</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Scalable to municipal, state, and national levels</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Integration-ready with existing waste management systems</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Automated data pipeline reduces manual intervention</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-gray-600 py-6">
            <p class="text-sm">California Waste Characterization Study 2021 | Interactive Analytics Dashboard</p>
            <p class="text-xs mt-1">Data Source: CalRecycle Disposal Facility-based Waste Characterization Study</p>
        </div>
    </div>

    <script>
        // Sample waste data based on the actual California study
        const wasteData = {
            statewide: {
                'ORGANICS': 34.5, 'MIXED RESIDUE': 16.7, 'PAPER': 15.5, 'INERTS AND OTHER': 12.8,
                'PLASTIC': 8.9, 'SPECIAL WASTE': 4.8, 'METAL': 2.8, 'GLASS': 2.1, 'ELECTRONICS': 1.2, 'HHW': 0.7
            },
            residential: {
                'ORGANICS': 43.2, 'MIXED RESIDUE': 18.1, 'PAPER': 12.3, 'PLASTIC': 9.8,
                'INERTS AND OTHER': 7.2, 'SPECIAL WASTE': 3.9, 'METAL': 2.1, 'GLASS': 2.0, 'ELECTRONICS': 0.8, 'HHW': 0.6
            },
            commercial: {
                'ORGANICS': 25.8, 'MIXED RESIDUE': 19.2, 'PAPER': 18.7, 'INERTS AND OTHER': 15.1,
                'PLASTIC': 8.1, 'SPECIAL WASTE': 5.7, 'METAL': 3.2, 'GLASS': 2.3, 'ELECTRONICS': 1.4, 'HHW': 0.5
            },
            selfhaul: {
                'INERTS AND OTHER': 35.4, 'ORGANICS': 22.1, 'MIXED RESIDUE': 14.3, 'PAPER': 8.9,
                'SPECIAL WASTE': 8.2, 'PLASTIC': 5.1, 'METAL': 3.8, 'GLASS': 1.2, 'ELECTRONICS': 0.7, 'HHW': 0.3
            },
            transfer: {
                'ORGANICS': 31.2, 'MIXED RESIDUE': 17.8, 'PAPER': 16.4, 'INERTS AND OTHER': 13.9,
                'PLASTIC': 9.2, 'SPECIAL WASTE': 4.1, 'METAL': 3.1, 'GLASS': 2.8, 'ELECTRONICS': 1.0, 'HHW': 0.5
            }
        };

        const tonnageData = {
            statewide: {
                'ORGANICS': 13762125, 'MIXED RESIDUE': 6670083, 'PAPER': 6193825, 'INERTS AND OTHER': 5111424,
                'PLASTIC': 3557671, 'SPECIAL WASTE': 1915392, 'METAL': 1118336, 'GLASS': 838358, 'ELECTRONICS': 479359, 'HHW': 279523
            }
        };

        // Visualization 1: Treemap
        function updateTreemap() {
            const sector = document.getElementById('sectorSelect').value;
            const data = wasteData[sector];
            
            const treemapData = Object.entries(data).map(([name, value]) => ({
                name: name,
                value: value,
                itemStyle: {
                    color: getColorForCategory(name)
                }
            }));

            const option = {
                title: {
                    text: `Waste Composition - ${sector.charAt(0).toUpperCase() + sector.slice(1)}`,
                    left: 'center',
                    textStyle: { fontSize: 18 }
                },
                tooltip: {
                    formatter: function(info) {
                        return `<strong>${info.name}</strong><br/>Percentage: ${info.value}%`;
                    }
                },
                series: [{
                    type: 'treemap',
                    data: treemapData,
                    roam: false,
                    label: {
                        show: true,
                        formatter: function(params) {
                            return params.name + '\n' + params.value + '%';
                        }
                    },
                    breadcrumb: { show: false }
                }]
            };

            echarts.init(document.getElementById('treemapChart')).setOption(option);
        }

        // Visualization 2: Comparison Chart
        function updateComparison() {
            const material = document.getElementById('materialSelect').value;
            const metric = document.getElementById('metricSelect').value;
            
            const sectors = ['statewide', 'residential', 'commercial', 'selfhaul', 'transfer'];
            const values = sectors.map(sector => wasteData[sector][material] || 0);
            const labels = ['Statewide', 'Residential', 'Commercial', 'Self-Haul', 'Transfer'];

            const ctx = document.getElementById('comparisonChartCanvas').getContext('2d');
            
            if (window.comparisonChartInstance) {
                window.comparisonChartInstance.destroy();
            }

            window.comparisonChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: `${material} - ${metric === 'percentage' ? 'Percentage (%)' : 'Tonnage'}`,
                        data: values,
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(139, 92, 246, 0.8)'
                        ],
                        borderColor: [
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)',
                            'rgb(245, 158, 11)',
                            'rgb(239, 68, 68)',
                            'rgb(139, 92, 246)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: metric === 'percentage' ? 'Percentage (%)' : 'Tonnage'
                            }
                        }
                    }
                }
            });
        }

        // Visualization 3: Sustainability Chart
        function createSustainabilityChart() {
            const recyclingPotential = {
                'PAPER': 85,
                'PLASTIC': 45,
                'GLASS': 90,
                'METAL': 95,
                'ORGANICS': 75,
                'ELECTRONICS': 80
            };

            const currentRecycling = {
                'PAPER': 35,
                'PLASTIC': 15,
                'GLASS': 25,
                'METAL': 70,
                'ORGANICS': 20,
                'ELECTRONICS': 40
            };

            const categories = Object.keys(recyclingPotential);
            const potentialData = Object.values(recyclingPotential);
            const currentData = Object.values(currentRecycling);

            const ctx = document.getElementById('sustainabilityChartCanvas').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: categories,
                    datasets: [{
                        label: 'Recycling Potential (%)',
                        data: potentialData,
                        backgroundColor: 'rgba(34, 197, 94, 0.2)',
                        borderColor: 'rgb(34, 197, 94)',
                        pointBackgroundColor: 'rgb(34, 197, 94)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(34, 197, 94)'
                    }, {
                        label: 'Current Recycling (%)',
                        data: currentData,
                        backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        borderColor: 'rgb(239, 68, 68)',
                        pointBackgroundColor: 'rgb(239, 68, 68)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(239, 68, 68)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { display: false },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
        }

        function getColorForCategory(category) {
            const colors = {
                'ORGANICS': '#22c55e',
                'PAPER': '#3b82f6',
                'PLASTIC': '#f59e0b',
                'METAL': '#6b7280',
                'GLASS': '#06b6d4',
                'ELECTRONICS': '#8b5cf6',
                'MIXED RESIDUE': '#ef4444',
                'INERTS AND OTHER': '#a3a3a3',
                'SPECIAL WASTE': '#f97316',
                'HHW': '#dc2626'
            };
            return colors[category] || '#9ca3af';
        }

        // Event listeners
        document.getElementById('sectorSelect').addEventListener('change', updateTreemap);
        document.getElementById('materialSelect').addEventListener('change', updateComparison);
        document.getElementById('metricSelect').addEventListener('change', updateComparison);

        // Initialize visualizations
        updateTreemap();
        updateComparison();
        createSustainabilityChart();

        // Resize charts on window resize
        window.addEventListener('resize', function() {
            setTimeout(() => {
                updateTreemap();
                updateComparison();
                createSustainabilityChart();
            }, 300);
        });
    </script>
</body>
</html>
